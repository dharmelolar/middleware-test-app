"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getPackageVersion = exports.parseBoolean = exports.structuredLog = void 0;
const path_1 = require("path");
const fs_1 = require("fs");
const structuredLog = (level, message, attributes = {}) => {
    console.log(`${level}: ${message}`, attributes);
};
exports.structuredLog = structuredLog;
function parseBoolean(value) {
    if (value === "true")
        return true;
    if (value === "false")
        return false;
    return undefined;
}
exports.parseBoolean = parseBoolean;
function getPackageVersion(fallbackVersion = "0.0.0") {
    try {
        const packageJsonPath = (0, path_1.join)(__dirname, "../../package.json");
        const packageJson = JSON.parse((0, fs_1.readFileSync)(packageJsonPath, "utf-8"));
        return packageJson.version || fallbackVersion;
    }
    catch (error) {
        return fallbackVersion;
    }
}
exports.getPackageVersion = getPackageVersion;
